{% extends "eCoffee/main_dashboard.html" %}

{% block title %}
    Admin Products
{% endblock %}

{% block body %}  
    <div class="admin-products-container">
      <a class="btn btn-sm btn-primary" href="{% url 'create_product' %}" id="clickBtn" onclick="openForm"> + Add Product </a>
      <div class="new-product" style="" id="editForm">
        {{ form.non_field_errors }}
        <form method="POST" enctype="multipart/form-data" class="my-4">
          {% csrf_token %}         
          <div class="form-group row">
            {{ form.description.errors }}
            <label
              for="{{ form.description.id_for_label }}"
              class="col-sm-2 col-form-label"
              >Description:</label
            >
            <div class="col-sm-10 create-input">{{ form.description }}</div>
          </div>
          <div class="form-group row">
            {{ form.category.errors }}
            <label
              for="{{ form.category.id_for_label }}"
              class="col-sm-2 col-form-label"
              >Category:</label
            >
            <div class="col-sm-10 create-input">{{ form.category }}</div>
          </div>
          <div class="form-group row">
            {{ form.price.errors }}
            <label
              for="{{ form.price.id_for_label }}"
              class="col-sm-2 col-form-label"
              >Price:</label
            >
            <div class="col-sm-10 create-input">{{ form.price }}</div>
          </div>
          <div class="form-group row">
            {{ form.photo_url.errors }}
            <label
              for="{{ form.photo_url.id_for_label }}"
              class="col-sm-2 col-form-label"
              >Photo URL:</label
            >
            <div class="col-sm-10 create-input">{{ form.photo_url }}</div>
          </div>
      
          <button type="submit" class="btn btn-primary">Submit</button>
        </form>
      </div>		 
		{%if products %}
      <div class="products">All Coffees Table
        <table class="table table-striped">
         <thead>
         <tr>
            <td>id</td><td>photo</td><td>description</td><td>category</td><td>price</td><td>created at</td>
         </tr>
       </thead>     
        <tbody>
    			 {% for coffee in products %}
         <tr>
				<td>{{ coffee.id }}</td>
				<td><img src="{{ coffee.photo_url }}" width="200" height="150" alt="coffee"/></td>
				<td>{{ coffee.description }}</td>
				<td>{{coffee.category}}</td>
				<td>{{coffee.price}}</td>
				<td>{{coffee.created_at}}</td>
      	</tr>
      {%endfor%}
      </tbody>
    </table>
      {% comment %} pagination here {% endcomment %}

      {% comment %} end pagination... {% endcomment %}    
     
      </div>
		{%endif%} 
      
   </div>
	{%block script%}
<script>
	let clickBtn=document.querySelector("#clickBtn")

	const openForm = ()=>{

	}
</script>
	{%endblock%}
{% endblock %}



